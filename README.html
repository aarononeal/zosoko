<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="造倉庫-ぞうそうこ-zōsōko-zosoko">造倉庫 ぞうそうこ Zōsōko Zosoko</h1>
<h2 id="sōkoban-puzzle-generator">Sōkoban puzzle generator</h2>
<p>Sōkoban is a Japanese transport puzzle in which the player pushes boxes around a warehouse. See <a href="http://en.wikipedia.org/wiki/Sokoban">wikipedia for more information about Sōkoban</a>.</p>
<p>This library will generate random Sōkoban puzzles for use in games. A player is included so you can quickly get a feel for the runtime of the algorithm and the library's features.</p>
<h2 id="instructions">Instructions</h2>
<p>Build in eclipse, then execute with:</p>
<ul>
<li>java -cp bin net.bytten.zosoko.player.Main -box-lines</li>
</ul>
<h2 id="options">Options</h2>
<ul>
<li>-width=W Sets the width of generated puzzles.</li>
<li>-height=H Sets the height of generated puzzles.</li>
<li>-boxes=N Sets the number of boxes and goals in generated puzzles.</li>
<li>-unbounded Allow the player to walk around outside the bounds of the puzzle.</li>
<li>-test Always generates the puzzle designed for testing the renderer and controller.</li>
<li>-limit-goal-experiments=N Limit the number of combinations of goals the generator tries for each map.</li>
<li>-limit-depth=N Limit the depth of the farthest state search.</li>
<li>-time-limit=N Limit how long (in milliseconds) to search.</li>
<li>-box-lines Sets the scoring metric to purely box-lines rather than the default based on the paper.</li>
</ul>
<p>The best results seem to be given with widths and heights that are multiples of 3 and when -box-lines is given.</p>
<h2 id="controls">Controls</h2>
<ul>
<li>Blue squares are boxes.</li>
<li>The red circle is the player.</li>
<li>Use the arrow keys to move the player and push boxes.</li>
<li>Press R to reset the puzzle.</li>
<li>Press F5 to generate a new puzzle.</li>
</ul>
<h2 id="todo">TODO</h2>
<ul>
<li>Needs significant clean-up.</li>
<li>Profiling indicates the slowest part is PuzzleMap.getPlayerSpacePartition(). The use of this can be eliminated entirely by implementing the suggestions in PlayerCloud, or maybe there is a way to speed it up?</li>
<li>After that is Coords.add, which must mean that there are no further bottlenecks.</li>
<li>See if making FarthestStateFinder.go return a set of states would make the default scoring metric work better.</li>
</ul>
<h2 id="links">Links</h2>
<p>The paper this library is based on:</p>
<ul>
<li><a href="http://larc.unt.edu/ian/pubs/GAMEON-NA_METH_03.pdf">http://larc.unt.edu/ian/pubs/GAMEON-NA_METH_03.pdf</a></li>
</ul>
</body>
</html>
